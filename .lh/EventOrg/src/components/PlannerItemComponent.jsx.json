{
    "sourceFile": "EventOrg/src/components/PlannerItemComponent.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 24,
            "patches": [
                {
                    "date": 1731945323843,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1731945366001,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,199 +1,54 @@\n-import React, { useEffect, useState } from \"react\";\r\n-import axios from \"axios\";\r\n-import PlannerItemComponent from \"./PlannerItemComponent\"; // Import your PlannerItem component\r\n+import React from \"react\";\r\n import styles from \"../module_css/PlannerList.module.css\";\r\n \r\n-export default function PlannerList() {\r\n-  const [planners, setPlanners] = useState({\r\n-    venues: [],\r\n-    services: [],\r\n-    packages: [],\r\n-  });\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState(null);\r\n-  const [showVenues, setShowVenues] = useState(false);\r\n-  const [showServices, setShowServices] = useState(false);\r\n-  const [showPackages, setShowPackages] = useState(false);\r\n-  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n+const PlannerItemComponent = ({ item, type, onAdd, onRemove }) => {\r\n+  console.log(item); // Add this line to debug the `item` data\r\n \r\n-  // Effect hook to determine if the user is authenticated and load data\r\n-  useEffect(() => {\r\n-    const token = localStorage.getItem(\"access_token\");\r\n-\r\n-    if (token) {\r\n-      setIsAuthenticated(true);\r\n-      fetchPlannerDataFromBackend(token); // Fetch from backend if user is logged in\r\n-    } else {\r\n-      loadPlannerDataFromLocalStorage(); // Use localStorage if user is not logged in\r\n-    }\r\n-  }, []);\r\n-\r\n-  // Fetch planner data from backend if the user is authenticated\r\n-  const fetchPlannerDataFromBackend = (token) => {\r\n-    setLoading(true);\r\n-    axios\r\n-      .get(\"http://127.0.0.1:8000/api/planner-list/\", {\r\n-        headers: { Authorization: `Bearer ${token}` },\r\n-        withCredentials: true,\r\n-      })\r\n-      .then((response) => {\r\n-        setPlanners({\r\n-          venues: response.data.venues,\r\n-          services: response.data.services,\r\n-          packages: response.data.packages,\r\n-        });\r\n-        setLoading(false);\r\n-      })\r\n-      .catch((error) => {\r\n-        setError(\"Error fetching planner data\");\r\n-        console.error(error);\r\n-        setLoading(false);\r\n-      });\r\n-  };\r\n-\r\n-  // Load planner data from localStorage if the user is not authenticated\r\n-  const loadPlannerDataFromLocalStorage = () => {\r\n-    const storedPlanners = JSON.parse(localStorage.getItem(\"plannerList\")) || {\r\n-      venues: [],\r\n-      services: [],\r\n-      packages: [],\r\n-    };\r\n-    setPlanners(storedPlanners);\r\n-  };\r\n-\r\n-  const addToPlanner = (item, type) => {\r\n-    let updatedPlanners = { ...planners };\r\n-\r\n-    // Dynamically add items based on the type\r\n-    if (type === \"venues\") {\r\n-      updatedPlanners.venues.push(item);\r\n-    } else if (type === \"services\") {\r\n-      updatedPlanners.services.push(item);\r\n-    } else if (type === \"packages\") {\r\n-      updatedPlanners.packages.push(item);\r\n-    }\r\n-\r\n-    setPlanners(updatedPlanners);\r\n-    localStorage.setItem(\"plannerList\", JSON.stringify(updatedPlanners));\r\n-\r\n-    if (isAuthenticated) {\r\n-      const token = localStorage.getItem(\"access_token\");\r\n-\r\n-      // Send only relevant ID based on type\r\n-      axios.post(\r\n-        \"http://127.0.0.1:8000/api/planner-list/\",\r\n-        {\r\n-          venue: type === \"venues\" ? item.id : null,\r\n-          service: type === \"services\" ? item.id : null,\r\n-          package: type === \"packages\" ? item.id : null,\r\n-        },\r\n-        { headers: { Authorization: `Bearer ${token}` } }\r\n-      );\r\n-    }\r\n-  };\r\n-\r\n-  const removeFromPlanner = (itemId, type) => {\r\n-    const updatedPlanners = { ...planners };\r\n-    updatedPlanners[type] = updatedPlanners[type].filter(\r\n-      (item) => item.id !== itemId\r\n-    );\r\n-\r\n-    setPlanners(updatedPlanners);\r\n-    localStorage.setItem(\"plannerList\", JSON.stringify(updatedPlanners));\r\n-\r\n-    if (isAuthenticated) {\r\n-      const token = localStorage.getItem(\"access_token\");\r\n-      axios.delete(`http://127.0.0.1:8000/api/planner-list/${itemId}/`, {\r\n-        headers: { Authorization: `Bearer ${token}` },\r\n-      });\r\n-    }\r\n-  };\r\n-\r\n-  const { venues, services, packages } = planners;\r\n-  const totalItems = venues.length + services.length + packages.length;\r\n-\r\n   return (\r\n-    <div className={styles.planner_list_container}>\r\n-      <h1>Planner List</h1>\r\n-      <p>Total Items: {totalItems}</p>\r\n-      {error && <p className={styles.errormessage}>{error}</p>}\r\n-      {loading ? (\r\n-        <p>Loading...</p>\r\n-      ) : (\r\n-        <>\r\n-          {/* Venue Section */}\r\n-          <div className={styles.section}>\r\n-            <div\r\n-              className={styles.section_header}\r\n-              onClick={() => setShowVenues(!showVenues)}\r\n-            >\r\n-              <h2>Venues</h2>\r\n-              <span className={styles.item_count}>({venues.length})</span>\r\n-            </div>\r\n-            {showVenues && (\r\n-              <div className={styles.section_content}>\r\n-                {venues.map((venueItem) => (\r\n-                  <PlannerItemComponent\r\n-                    key={venueItem.id}\r\n-                    item={venueItem}\r\n-                    type=\"venues\"\r\n-                    onAdd={addToPlanner}\r\n-                    onRemove={removeFromPlanner}\r\n-                  />\r\n-                ))}\r\n-              </div>\r\n-            )}\r\n-          </div>\r\n-\r\n-          {/* Service Section */}\r\n-          <div className={styles.section}>\r\n-            <div\r\n-              className={styles.section_header}\r\n-              onClick={() => setShowServices(!showServices)}\r\n-            >\r\n-              <h2>Services</h2>\r\n-              <span className={styles.item_count}>({services.length})</span>\r\n-            </div>\r\n-            {showServices && (\r\n-              <div className={styles.section_content}>\r\n-                {services.map((serviceItem) => (\r\n-                  <PlannerItemComponent\r\n-                    key={serviceItem.id}\r\n-                    item={serviceItem}\r\n-                    type=\"services\"\r\n-                    onAdd={addToPlanner}\r\n-                    onRemove={removeFromPlanner}\r\n-                  />\r\n-                ))}\r\n-              </div>\r\n-            )}\r\n-          </div>\r\n-\r\n-          {/* Package Section */}\r\n-          <div className={styles.section}>\r\n-            <div\r\n-              className={styles.section_header}\r\n-              onClick={() => setShowPackages(!showPackages)}\r\n-            >\r\n-              <h2>Packages</h2>\r\n-              <span className={styles.item_count}>({packages.length})</span>\r\n-            </div>\r\n-            {showPackages && (\r\n-              <div className={styles.section_content}>\r\n-                {packages.map((packageItem) => (\r\n-                  <PlannerItemComponent\r\n-                    key={packageItem.id}\r\n-                    item={packageItem}\r\n-                    type=\"packages\"\r\n-                    onAdd={addToPlanner}\r\n-                    onRemove={removeFromPlanner}\r\n-                  />\r\n-                ))}\r\n-              </div>\r\n-            )}\r\n-          </div>\r\n-        </>\r\n-      )}\r\n+    <div className={styles.planner_card}>\r\n+      <img\r\n+        src={`http://127.0.0.1:8000${item.poster || \"/default-image.jpg\"}`}\r\n+        alt={`${type} Poster`}\r\n+        className={styles.planner_image}\r\n+      />\r\n+      <div className={styles.planner_details}>\r\n+        <h3>{item.Name}</h3>\r\n+        {type === \"venues\" && (\r\n+          <>\r\n+            <p>Location: {item.Location}</p>\r\n+            <p>Booking Price: ${item.Booking_price}</p>\r\n+            <p>Capacity: {item.Capacity}</p>\r\n+            <p>Parking: {item.Parking ? \"Yes\" : \"No\"}</p>\r\n+          </>\r\n+        )}\r\n+        {type === \"services\" && (\r\n+          <>\r\n+            <p>Type: {item.Type}</p>\r\n+            <p>Description: {item.Description}</p>\r\n+            <p>Price: ${item.Price}</p>\r\n+          </>\r\n+        )}\r\n+        {type === \"packages\" && (\r\n+          <>\r\n+            <p>Type: {item.Type}</p>\r\n+            <p>Description: {item.Description}</p>\r\n+            <p>Price: ${item.Price}</p>\r\n+          </>\r\n+        )}\r\n+        <div className={styles.btndiv}>\r\n+          <button\r\n+            className={styles.btn}\r\n+            onClick={() => onRemove(item.id, type)}\r\n+          >\r\n+            <i className=\"bi bi-trash3-fill\"></i>\r\n+          </button>\r\n+          <button className={styles.btn} onClick={() => onAdd(item, type)}>\r\n+            Add to Planner\r\n+          </button>\r\n+        </div>\r\n+      </div>\r\n     </div>\r\n   );\r\n-}\r\n+};\r\n+\r\n+export default PlannerItemComponent;\r\n"
                },
                {
                    "date": 1731946336370,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,54 +1,27 @@\n import React from \"react\";\r\n-import styles from \"../module_css/PlannerList.module.css\";\r\n+import styles from \"../module_css/PlannerItem.module.css\"; // Add your CSS styles for this component\r\n \r\n-const PlannerItemComponent = ({ item, type, onAdd, onRemove }) => {\r\n-  console.log(item); // Add this line to debug the `item` data\r\n+export default function PlannerItemComponent({ item, type, onAdd, onRemove }) {\r\n+  const handleAdd = () => {\r\n+    onAdd(item, type);\r\n+  };\r\n \r\n+  const handleRemove = () => {\r\n+    onRemove(item, type);\r\n+  };\r\n+\r\n   return (\r\n-    <div className={styles.planner_card}>\r\n-      <img\r\n-        src={`http://127.0.0.1:8000${item.poster || \"/default-image.jpg\"}`}\r\n-        alt={`${type} Poster`}\r\n-        className={styles.planner_image}\r\n-      />\r\n-      <div className={styles.planner_details}>\r\n-        <h3>{item.Name}</h3>\r\n-        {type === \"venues\" && (\r\n-          <>\r\n-            <p>Location: {item.Location}</p>\r\n-            <p>Booking Price: ${item.Booking_price}</p>\r\n-            <p>Capacity: {item.Capacity}</p>\r\n-            <p>Parking: {item.Parking ? \"Yes\" : \"No\"}</p>\r\n-          </>\r\n-        )}\r\n-        {type === \"services\" && (\r\n-          <>\r\n-            <p>Type: {item.Type}</p>\r\n-            <p>Description: {item.Description}</p>\r\n-            <p>Price: ${item.Price}</p>\r\n-          </>\r\n-        )}\r\n-        {type === \"packages\" && (\r\n-          <>\r\n-            <p>Type: {item.Type}</p>\r\n-            <p>Description: {item.Description}</p>\r\n-            <p>Price: ${item.Price}</p>\r\n-          </>\r\n-        )}\r\n-        <div className={styles.btndiv}>\r\n-          <button\r\n-            className={styles.btn}\r\n-            onClick={() => onRemove(item.id, type)}\r\n-          >\r\n-            <i className=\"bi bi-trash3-fill\"></i>\r\n-          </button>\r\n-          <button className={styles.btn} onClick={() => onAdd(item, type)}>\r\n-            Add to Planner\r\n-          </button>\r\n-        </div>\r\n+    <div className={styles.item_container}>\r\n+      <h3>{item.name}</h3>\r\n+      <p>{item.description}</p>\r\n+      <div className={styles.item_buttons}>\r\n+        <button className={styles.add_button} onClick={handleAdd}>\r\n+          Add to Planner\r\n+        </button>\r\n+        <button className={styles.remove_button} onClick={handleRemove}>\r\n+          Remove from Planner\r\n+        </button>\r\n       </div>\r\n     </div>\r\n   );\r\n-};\r\n-\r\n-export default PlannerItemComponent;\r\n+}\r\n"
                },
                {
                    "date": 1731946361691,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React from \"react\";\r\n-import styles from \"../module_css/PlannerItem.module.css\"; // Add your CSS styles for this component\r\n+import styles from \"../module_css/PlannerItemComponent.module.css\"; // Add your CSS styles for this component\r\n \r\n export default function PlannerItemComponent({ item, type, onAdd, onRemove }) {\r\n   const handleAdd = () => {\r\n     onAdd(item, type);\r\n"
                },
                {
                    "date": 1731946377059,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,27 +1,54 @@\n import React from \"react\";\r\n-import styles from \"../module_css/PlannerItemComponent.module.css\"; // Add your CSS styles for this component\r\n+import styles from \"../module_css/PlannerList.module.css\";\r\n \r\n-export default function PlannerItemComponent({ item, type, onAdd, onRemove }) {\r\n-  const handleAdd = () => {\r\n-    onAdd(item, type);\r\n-  };\r\n+const PlannerItemComponent = ({ item, type, onAdd, onRemove }) => {\r\n+  console.log(item); // Add this line to debug the `item` data\r\n \r\n-  const handleRemove = () => {\r\n-    onRemove(item, type);\r\n-  };\r\n-\r\n   return (\r\n-    <div className={styles.item_container}>\r\n-      <h3>{item.name}</h3>\r\n-      <p>{item.description}</p>\r\n-      <div className={styles.item_buttons}>\r\n-        <button className={styles.add_button} onClick={handleAdd}>\r\n-          Add to Planner\r\n-        </button>\r\n-        <button className={styles.remove_button} onClick={handleRemove}>\r\n-          Remove from Planner\r\n-        </button>\r\n+    <div className={styles.planner_card}>\r\n+      <img\r\n+        src={`http://127.0.0.1:8000${item.poster || \"/default-image.jpg\"}`}\r\n+        alt={`${type} Poster`}\r\n+        className={styles.planner_image}\r\n+      />\r\n+      <div className={styles.planner_details}>\r\n+        <h3>{item.Name}</h3>\r\n+        {type === \"venues\" && (\r\n+          <>\r\n+            <p>Location: {item.Location}</p>\r\n+            <p>Booking Price: ${item.Booking_price}</p>\r\n+            <p>Capacity: {item.Capacity}</p>\r\n+            <p>Parking: {item.Parking ? \"Yes\" : \"No\"}</p>\r\n+          </>\r\n+        )}\r\n+        {type === \"services\" && (\r\n+          <>\r\n+            <p>Type: {item.Type}</p>\r\n+            <p>Description: {item.Description}</p>\r\n+            <p>Price: ${item.Price}</p>\r\n+          </>\r\n+        )}\r\n+        {type === \"packages\" && (\r\n+          <>\r\n+            <p>Type: {item.Type}</p>\r\n+            <p>Description: {item.Description}</p>\r\n+            <p>Price: ${item.Price}</p>\r\n+          </>\r\n+        )}\r\n+        <div className={styles.btndiv}>\r\n+          <button\r\n+            className={styles.btn}\r\n+            onClick={() => onRemove(item.id, type)}\r\n+          >\r\n+            <i className=\"bi bi-trash3-fill\"></i>\r\n+          </button>\r\n+          <button className={styles.btn} onClick={() => onAdd(item, type)}>\r\n+            Add to Planner\r\n+          </button>\r\n+        </div>\r\n       </div>\r\n     </div>\r\n   );\r\n-}\r\n+};\r\n+\r\n+export default PlannerItemComponent;\r\n"
                },
                {
                    "date": 1731946409806,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,54 +1,27 @@\n import React from \"react\";\r\n import styles from \"../module_css/PlannerList.module.css\";\r\n \r\n-const PlannerItemComponent = ({ item, type, onAdd, onRemove }) => {\r\n-  console.log(item); // Add this line to debug the `item` data\r\n+export default function PlannerItemComponent({ item, type, onAdd, onRemove }) {\r\n+  const handleAdd = () => {\r\n+    onAdd(item, type);\r\n+  };\r\n \r\n+  const handleRemove = () => {\r\n+    onRemove(item, type);\r\n+  };\r\n+\r\n   return (\r\n-    <div className={styles.planner_card}>\r\n-      <img\r\n-        src={`http://127.0.0.1:8000${item.poster || \"/default-image.jpg\"}`}\r\n-        alt={`${type} Poster`}\r\n-        className={styles.planner_image}\r\n-      />\r\n-      <div className={styles.planner_details}>\r\n-        <h3>{item.Name}</h3>\r\n-        {type === \"venues\" && (\r\n-          <>\r\n-            <p>Location: {item.Location}</p>\r\n-            <p>Booking Price: ${item.Booking_price}</p>\r\n-            <p>Capacity: {item.Capacity}</p>\r\n-            <p>Parking: {item.Parking ? \"Yes\" : \"No\"}</p>\r\n-          </>\r\n-        )}\r\n-        {type === \"services\" && (\r\n-          <>\r\n-            <p>Type: {item.Type}</p>\r\n-            <p>Description: {item.Description}</p>\r\n-            <p>Price: ${item.Price}</p>\r\n-          </>\r\n-        )}\r\n-        {type === \"packages\" && (\r\n-          <>\r\n-            <p>Type: {item.Type}</p>\r\n-            <p>Description: {item.Description}</p>\r\n-            <p>Price: ${item.Price}</p>\r\n-          </>\r\n-        )}\r\n-        <div className={styles.btndiv}>\r\n-          <button\r\n-            className={styles.btn}\r\n-            onClick={() => onRemove(item.id, type)}\r\n-          >\r\n-            <i className=\"bi bi-trash3-fill\"></i>\r\n-          </button>\r\n-          <button className={styles.btn} onClick={() => onAdd(item, type)}>\r\n-            Add to Planner\r\n-          </button>\r\n-        </div>\r\n+    <div className={styles.item_container}>\r\n+      <h3>{item.name}</h3>\r\n+      <p>{item.description}</p>\r\n+      <div className={styles.item_buttons}>\r\n+        <button className={styles.add_button} onClick={handleAdd}>\r\n+          Add to Planner\r\n+        </button>\r\n+        <button className={styles.remove_button} onClick={handleRemove}>\r\n+          Remove from Planner\r\n+        </button>\r\n       </div>\r\n     </div>\r\n   );\r\n-};\r\n-\r\n-export default PlannerItemComponent;\r\n+}\r\n"
                },
                {
                    "date": 1731947975420,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,27 +1,186 @@\n-import React from \"react\";\r\n+import React, { useEffect, useState } from \"react\";\r\n+import axios from \"axios\";\r\n+import PlannerItemComponent from \"./PlannerItemComponent\"; // Import your PlannerItem component\r\n import styles from \"../module_css/PlannerList.module.css\";\r\n \r\n-export default function PlannerItemComponent({ item, type, onAdd, onRemove }) {\r\n-  const handleAdd = () => {\r\n-    onAdd(item, type);\r\n+export default function PlannerList() {\r\n+  const [venues, setVenues] = useState([]);\r\n+  const [services, setServices] = useState([]);\r\n+  const [packages, setPackages] = useState([]);\r\n+  const [loading, setLoading] = useState(true);\r\n+  const [error, setError] = useState(null);\r\n+  const [showVenues, setShowVenues] = useState(false);\r\n+  const [showServices, setShowServices] = useState(false);\r\n+  const [showPackages, setShowPackages] = useState(false);\r\n+\r\n+  // Fetch planner items\r\n+  useEffect(() => {\r\n+    const fetchPlannerItems = async () => {\r\n+      try {\r\n+        const response = await axios.get(\"/api/planner-list/\", {\r\n+          headers: {\r\n+            Authorization: `Bearer ${localStorage.getItem(\"jwt_token\")}`, // Include JWT token if needed\r\n+          },\r\n+        });\r\n+\r\n+        console.log(\"Planner items fetched:\", response.data); // Add logging here to check response\r\n+\r\n+        if (Array.isArray(response.data)) {\r\n+          const venuesData = response.data.filter(\r\n+            (item) => item.type === \"venue\"\r\n+          );\r\n+          const servicesData = response.data.filter(\r\n+            (item) => item.type === \"service\"\r\n+          );\r\n+          const packagesData = response.data.filter(\r\n+            (item) => item.type === \"package\"\r\n+          );\r\n+\r\n+          setVenues(venuesData);\r\n+          setServices(servicesData);\r\n+          setPackages(packagesData);\r\n+        } else {\r\n+          setError(\"Invalid data format from API.\");\r\n+        }\r\n+      } catch (error) {\r\n+        console.error(\"Error fetching planner items:\", error);\r\n+        setError(\"Failed to load planner items.\");\r\n+      }\r\n+\r\n+      setLoading(false);\r\n+    };\r\n+\r\n+    fetchPlannerItems();\r\n+  }, []);\r\n+\r\n+  // Handle adding to planner\r\n+  const addToPlanner = async (item, type) => {\r\n+    try {\r\n+      const response = await axios.post(\r\n+        \"/api/add_to_planner/\",\r\n+        {\r\n+          [type]: item.id,\r\n+        },\r\n+        {\r\n+          headers: {\r\n+            Authorization: `Bearer ${localStorage.getItem(\"jwt_token\")}`, // JWT token if authenticated\r\n+          },\r\n+        }\r\n+      );\r\n+\r\n+      // Handle the success response\r\n+      alert(response.data.message);\r\n+    } catch (error) {\r\n+      console.error(\"Error adding to planner:\", error);\r\n+      setError(\"Failed to add item to planner.\");\r\n+    }\r\n   };\r\n \r\n-  const handleRemove = () => {\r\n-    onRemove(item, type);\r\n+  // Handle removing from planner\r\n+  const removeFromPlanner = async (item, type) => {\r\n+    try {\r\n+      // Placeholder for removing an item; you'd need to implement the API for this\r\n+      alert(\"Item removed from planner\");\r\n+    } catch (error) {\r\n+      console.error(\"Error removing from planner:\", error);\r\n+      setError(\"Failed to remove item from planner.\");\r\n+    }\r\n   };\r\n \r\n   return (\r\n-    <div className={styles.item_container}>\r\n-      <h3>{item.name}</h3>\r\n-      <p>{item.description}</p>\r\n-      <div className={styles.item_buttons}>\r\n-        <button className={styles.add_button} onClick={handleAdd}>\r\n-          Add to Planner\r\n-        </button>\r\n-        <button className={styles.remove_button} onClick={handleRemove}>\r\n-          Remove from Planner\r\n-        </button>\r\n-      </div>\r\n+    <div className={styles.planner_list_container}>\r\n+      <h1>Planner List</h1>\r\n+      {error && <p className={styles.errormessage}>{error}</p>}\r\n+\r\n+      {loading ? (\r\n+        <p>Loading...</p>\r\n+      ) : (\r\n+        <>\r\n+          {/* Venue Section */}\r\n+          <div className={styles.section}>\r\n+            <div\r\n+              className={styles.section_header}\r\n+              onClick={() => setShowVenues(!showVenues)}\r\n+            >\r\n+              <h2>Venues</h2>\r\n+              <span className={styles.item_count}>({venues.length})</span>\r\n+            </div>\r\n+            {showVenues && (\r\n+              <div className={styles.section_content}>\r\n+                {venues.length > 0 ? (\r\n+                  venues.map((venueItem) => (\r\n+                    <PlannerItemComponent\r\n+                      key={venueItem.id}\r\n+                      item={venueItem}\r\n+                      type=\"venues\"\r\n+                      onAdd={addToPlanner}\r\n+                      onRemove={removeFromPlanner}\r\n+                    />\r\n+                  ))\r\n+                ) : (\r\n+                  <p>No venues added yet.</p>\r\n+                )}\r\n+              </div>\r\n+            )}\r\n+          </div>\r\n+\r\n+          {/* Service Section */}\r\n+          <div className={styles.section}>\r\n+            <div\r\n+              className={styles.section_header}\r\n+              onClick={() => setShowServices(!showServices)}\r\n+            >\r\n+              <h2>Services</h2>\r\n+              <span className={styles.item_count}>({services.length})</span>\r\n+            </div>\r\n+            {showServices && (\r\n+              <div className={styles.section_content}>\r\n+                {services.length > 0 ? (\r\n+                  services.map((serviceItem) => (\r\n+                    <PlannerItemComponent\r\n+                      key={serviceItem.id}\r\n+                      item={serviceItem}\r\n+                      type=\"services\"\r\n+                      onAdd={addToPlanner}\r\n+                      onRemove={removeFromPlanner}\r\n+                    />\r\n+                  ))\r\n+                ) : (\r\n+                  <p>No services added yet.</p>\r\n+                )}\r\n+              </div>\r\n+            )}\r\n+          </div>\r\n+\r\n+          {/* Package Section */}\r\n+          <div className={styles.section}>\r\n+            <div\r\n+              className={styles.section_header}\r\n+              onClick={() => setShowPackages(!showPackages)}\r\n+            >\r\n+              <h2>Packages</h2>\r\n+              <span className={styles.item_count}>({packages.length})</span>\r\n+            </div>\r\n+            {showPackages && (\r\n+              <div className={styles.section_content}>\r\n+                {packages.length > 0 ? (\r\n+                  packages.map((packageItem) => (\r\n+                    <PlannerItemComponent\r\n+                      key={packageItem.id}\r\n+                      item={packageItem}\r\n+                      type=\"packages\"\r\n+                      onAdd={addToPlanner}\r\n+                      onRemove={removeFromPlanner}\r\n+                    />\r\n+                  ))\r\n+                ) : (\r\n+                  <p>No packages added yet.</p>\r\n+                )}\r\n+              </div>\r\n+            )}\r\n+          </div>\r\n+        </>\r\n+      )}\r\n     </div>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1731948025442,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,186 +1,16 @@\n-import React, { useEffect, useState } from \"react\";\r\n-import axios from \"axios\";\r\n-import PlannerItemComponent from \"./PlannerItemComponent\"; // Import your PlannerItem component\r\n-import styles from \"../module_css/PlannerList.module.css\";\r\n+import React from \"react\";\r\n \r\n-export default function PlannerList() {\r\n-  const [venues, setVenues] = useState([]);\r\n-  const [services, setServices] = useState([]);\r\n-  const [packages, setPackages] = useState([]);\r\n-  const [loading, setLoading] = useState(true);\r\n-  const [error, setError] = useState(null);\r\n-  const [showVenues, setShowVenues] = useState(false);\r\n-  const [showServices, setShowServices] = useState(false);\r\n-  const [showPackages, setShowPackages] = useState(false);\r\n-\r\n-  // Fetch planner items\r\n-  useEffect(() => {\r\n-    const fetchPlannerItems = async () => {\r\n-      try {\r\n-        const response = await axios.get(\"/api/planner-list/\", {\r\n-          headers: {\r\n-            Authorization: `Bearer ${localStorage.getItem(\"jwt_token\")}`, // Include JWT token if needed\r\n-          },\r\n-        });\r\n-\r\n-        console.log(\"Planner items fetched:\", response.data); // Add logging here to check response\r\n-\r\n-        if (Array.isArray(response.data)) {\r\n-          const venuesData = response.data.filter(\r\n-            (item) => item.type === \"venue\"\r\n-          );\r\n-          const servicesData = response.data.filter(\r\n-            (item) => item.type === \"service\"\r\n-          );\r\n-          const packagesData = response.data.filter(\r\n-            (item) => item.type === \"package\"\r\n-          );\r\n-\r\n-          setVenues(venuesData);\r\n-          setServices(servicesData);\r\n-          setPackages(packagesData);\r\n-        } else {\r\n-          setError(\"Invalid data format from API.\");\r\n-        }\r\n-      } catch (error) {\r\n-        console.error(\"Error fetching planner items:\", error);\r\n-        setError(\"Failed to load planner items.\");\r\n-      }\r\n-\r\n-      setLoading(false);\r\n-    };\r\n-\r\n-    fetchPlannerItems();\r\n-  }, []);\r\n-\r\n-  // Handle adding to planner\r\n-  const addToPlanner = async (item, type) => {\r\n-    try {\r\n-      const response = await axios.post(\r\n-        \"/api/add_to_planner/\",\r\n-        {\r\n-          [type]: item.id,\r\n-        },\r\n-        {\r\n-          headers: {\r\n-            Authorization: `Bearer ${localStorage.getItem(\"jwt_token\")}`, // JWT token if authenticated\r\n-          },\r\n-        }\r\n-      );\r\n-\r\n-      // Handle the success response\r\n-      alert(response.data.message);\r\n-    } catch (error) {\r\n-      console.error(\"Error adding to planner:\", error);\r\n-      setError(\"Failed to add item to planner.\");\r\n-    }\r\n-  };\r\n-\r\n-  // Handle removing from planner\r\n-  const removeFromPlanner = async (item, type) => {\r\n-    try {\r\n-      // Placeholder for removing an item; you'd need to implement the API for this\r\n-      alert(\"Item removed from planner\");\r\n-    } catch (error) {\r\n-      console.error(\"Error removing from planner:\", error);\r\n-      setError(\"Failed to remove item from planner.\");\r\n-    }\r\n-  };\r\n-\r\n+export default function PlannerItemComponent({ item, type, onAdd, onRemove }) {\r\n   return (\r\n-    <div className={styles.planner_list_container}>\r\n-      <h1>Planner List</h1>\r\n-      {error && <p className={styles.errormessage}>{error}</p>}\r\n-\r\n-      {loading ? (\r\n-        <p>Loading...</p>\r\n-      ) : (\r\n-        <>\r\n-          {/* Venue Section */}\r\n-          <div className={styles.section}>\r\n-            <div\r\n-              className={styles.section_header}\r\n-              onClick={() => setShowVenues(!showVenues)}\r\n-            >\r\n-              <h2>Venues</h2>\r\n-              <span className={styles.item_count}>({venues.length})</span>\r\n-            </div>\r\n-            {showVenues && (\r\n-              <div className={styles.section_content}>\r\n-                {venues.length > 0 ? (\r\n-                  venues.map((venueItem) => (\r\n-                    <PlannerItemComponent\r\n-                      key={venueItem.id}\r\n-                      item={venueItem}\r\n-                      type=\"venues\"\r\n-                      onAdd={addToPlanner}\r\n-                      onRemove={removeFromPlanner}\r\n-                    />\r\n-                  ))\r\n-                ) : (\r\n-                  <p>No venues added yet.</p>\r\n-                )}\r\n-              </div>\r\n-            )}\r\n-          </div>\r\n-\r\n-          {/* Service Section */}\r\n-          <div className={styles.section}>\r\n-            <div\r\n-              className={styles.section_header}\r\n-              onClick={() => setShowServices(!showServices)}\r\n-            >\r\n-              <h2>Services</h2>\r\n-              <span className={styles.item_count}>({services.length})</span>\r\n-            </div>\r\n-            {showServices && (\r\n-              <div className={styles.section_content}>\r\n-                {services.length > 0 ? (\r\n-                  services.map((serviceItem) => (\r\n-                    <PlannerItemComponent\r\n-                      key={serviceItem.id}\r\n-                      item={serviceItem}\r\n-                      type=\"services\"\r\n-                      onAdd={addToPlanner}\r\n-                      onRemove={removeFromPlanner}\r\n-                    />\r\n-                  ))\r\n-                ) : (\r\n-                  <p>No services added yet.</p>\r\n-                )}\r\n-              </div>\r\n-            )}\r\n-          </div>\r\n-\r\n-          {/* Package Section */}\r\n-          <div className={styles.section}>\r\n-            <div\r\n-              className={styles.section_header}\r\n-              onClick={() => setShowPackages(!showPackages)}\r\n-            >\r\n-              <h2>Packages</h2>\r\n-              <span className={styles.item_count}>({packages.length})</span>\r\n-            </div>\r\n-            {showPackages && (\r\n-              <div className={styles.section_content}>\r\n-                {packages.length > 0 ? (\r\n-                  packages.map((packageItem) => (\r\n-                    <PlannerItemComponent\r\n-                      key={packageItem.id}\r\n-                      item={packageItem}\r\n-                      type=\"packages\"\r\n-                      onAdd={addToPlanner}\r\n-                      onRemove={removeFromPlanner}\r\n-                    />\r\n-                  ))\r\n-                ) : (\r\n-                  <p>No packages added yet.</p>\r\n-                )}\r\n-              </div>\r\n-            )}\r\n-          </div>\r\n-        </>\r\n-      )}\r\n+    <div className=\"planner-item\">\r\n+      <h3>{item.name}</h3>\r\n+      <p>{item.description}</p>\r\n+      <div>\r\n+        <button onClick={() => onAdd(item, type)}>Add to Planner</button>\r\n+        <button onClick={() => onRemove(item, type)}>\r\n+          Remove from Planner\r\n+        </button>\r\n+      </div>\r\n     </div>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1732007801487,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,16 +1,36 @@\n import React from \"react\";\r\n+import styles from \"../module_css/PlannerList.module.css\";\r\n \r\n-export default function PlannerItemComponent({ item, type, onAdd, onRemove }) {\r\n+const PlannerItemComponent = ({ item, type }) => {\r\n   return (\r\n-    <div className=\"planner-item\">\r\n-      <h3>{item.name}</h3>\r\n-      <p>{item.description}</p>\r\n-      <div>\r\n-        <button onClick={() => onAdd(item, type)}>Add to Planner</button>\r\n-        <button onClick={() => onRemove(item, type)}>\r\n-          Remove from Planner\r\n-        </button>\r\n+    <div key={item.id} className={styles.planner_card}>\r\n+      <div className={styles.packageGrid}>\r\n+        <div className={styles.package}>\r\n+          <div className={styles.picdiv}>\r\n+            <img\r\n+              alt={item.Name || \"Planner Item\"}\r\n+              src={`http://127.0.0.1:8000${\r\n+                item.poster || \"/default-image.jpg\"\r\n+              }`}\r\n+              className={styles.pics}\r\n+            />\r\n+          </div>\r\n+          <div className={styles.details}>\r\n+            {/* Render the name */}\r\n+            <p>{item.Name || \"No Name Available\"}</p>\r\n+            {/* Render the description */}\r\n+            <p>Description: {item.Description || \"No Description Available\"}</p>\r\n+            {/* Render the price */}\r\n+            <p>Nrs. {item.Price || \"Not Available\"}</p>\r\n+          </div>\r\n+          <div className={styles.btndiv}>\r\n+            <span>Add to planner</span>\r\n+            <p>{item.d || \"Date not available\"}</p>\r\n+          </div>\r\n+        </div>\r\n       </div>\r\n     </div>\r\n   );\r\n-}\r\n+};\r\n+\r\n+export default PlannerItemComponent;\r\n"
                },
                {
                    "date": 1732007953596,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,33 +1,52 @@\n+// src/components/PlannerItemComponent.jsx\r\n import React from \"react\";\r\n import styles from \"../module_css/PlannerList.module.css\";\r\n \r\n-const PlannerItemComponent = ({ item, type }) => {\r\n+const PlannerItemComponent = ({ item, type, onAdd, onRemove }) => {\r\n+  console.log(item); // Add this line to debug the `item` data\r\n+\r\n   return (\r\n-    <div key={item.id} className={styles.planner_card}>\r\n-      <div className={styles.packageGrid}>\r\n-        <div className={styles.package}>\r\n-          <div className={styles.picdiv}>\r\n-            <img\r\n-              alt={item.Name || \"Planner Item\"}\r\n-              src={`http://127.0.0.1:8000${\r\n-                item.poster || \"/default-image.jpg\"\r\n-              }`}\r\n-              className={styles.pics}\r\n-            />\r\n-          </div>\r\n-          <div className={styles.details}>\r\n-            {/* Render the name */}\r\n-            <p>{item.Name || \"No Name Available\"}</p>\r\n-            {/* Render the description */}\r\n-            <p>Description: {item.Description || \"No Description Available\"}</p>\r\n-            {/* Render the price */}\r\n-            <p>Nrs. {item.Price || \"Not Available\"}</p>\r\n-          </div>\r\n-          <div className={styles.btndiv}>\r\n-            <span>Add to planner</span>\r\n-            <p>{item.d || \"Date not available\"}</p>\r\n-          </div>\r\n+    <div className={styles.planner_card}>\r\n+      <img\r\n+        src={`http://127.0.0.1:8000${item.poster}`}\r\n+        alt={`${type} Poster`}\r\n+        className={styles.planner_image}\r\n+      />\r\n+      <div className={styles.planner_details}>\r\n+        <h3>{item.Name}</h3>\r\n+        {type === \"venues\" && (\r\n+          <>\r\n+            <p>Location: {item.Location}</p>\r\n+            <p>Booking Price: ${item.Booking_price}</p>\r\n+            <p>Capacity: {item.Capacity}</p>\r\n+            <p>Parking: {item.Parking ? \"Yes\" : \"No\"}</p>\r\n+          </>\r\n+        )}\r\n+        {type === \"services\" && (\r\n+          <>\r\n+            <p>Type: {item.Type}</p>\r\n+            <p>Description: {item.Description}</p>\r\n+            <p>Price: ${item.Price}</p>\r\n+          </>\r\n+        )}\r\n+        {type === \"packages\" && (\r\n+          <>\r\n+            <p>Type: {item.Type}</p>\r\n+            <p>Description: {item.Description}</p>\r\n+            <p>Price: ${item.Price}</p>\r\n+          </>\r\n+        )}\r\n+        <div className={styles.btndiv}>\r\n+          <button\r\n+            className={styles.btn}\r\n+            onClick={() => onRemove(item.id, type)}\r\n+          >\r\n+            <i className=\"bi bi-trash3-fill\"></i>\r\n+          </button>\r\n+          <button className={styles.btn} onClick={() => onAdd(item, type)}>\r\n+            Add to Planner\r\n+          </button>\r\n         </div>\r\n       </div>\r\n     </div>\r\n   );\r\n"
                },
                {
                    "date": 1732008007553,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n           </>\r\n         )}\r\n         {type === \"packages\" && (\r\n           <>\r\n-            <p>Type: {item.Type}</p>\r\n+            <p>Type: {item.package.Type}</p>\r\n             <p>Description: {item.Description}</p>\r\n             <p>Price: ${item.Price}</p>\r\n           </>\r\n         )}\r\n"
                },
                {
                    "date": 1732008537738,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,55 +1,55 @@\n-// src/components/PlannerItemComponent.jsx\r\n-import React from \"react\";\r\n import styles from \"../module_css/PlannerList.module.css\";\r\n \r\n-const PlannerItemComponent = ({ item, type, onAdd, onRemove }) => {\r\n-  console.log(item); // Add this line to debug the `item` data\r\n-\r\n+function PlannerSection({ title, items, showItems, setShowItems, isVenue }) {\r\n   return (\r\n-    <div className={styles.planner_card}>\r\n-      <img\r\n-        src={`http://127.0.0.1:8000${item.poster}`}\r\n-        alt={`${type} Poster`}\r\n-        className={styles.planner_image}\r\n-      />\r\n-      <div className={styles.planner_details}>\r\n-        <h3>{item.Name}</h3>\r\n-        {type === \"venues\" && (\r\n-          <>\r\n-            <p>Location: {item.Location}</p>\r\n-            <p>Booking Price: ${item.Booking_price}</p>\r\n-            <p>Capacity: {item.Capacity}</p>\r\n-            <p>Parking: {item.Parking ? \"Yes\" : \"No\"}</p>\r\n-          </>\r\n-        )}\r\n-        {type === \"services\" && (\r\n-          <>\r\n-            <p>Type: {item.Type}</p>\r\n-            <p>Description: {item.Description}</p>\r\n-            <p>Price: ${item.Price}</p>\r\n-          </>\r\n-        )}\r\n-        {type === \"packages\" && (\r\n-          <>\r\n-            <p>Type: {item.package.Type}</p>\r\n-            <p>Description: {item.Description}</p>\r\n-            <p>Price: ${item.Price}</p>\r\n-          </>\r\n-        )}\r\n-        <div className={styles.btndiv}>\r\n-          <button\r\n-            className={styles.btn}\r\n-            onClick={() => onRemove(item.id, type)}\r\n-          >\r\n-            <i className=\"bi bi-trash3-fill\"></i>\r\n-          </button>\r\n-          <button className={styles.btn} onClick={() => onAdd(item, type)}>\r\n-            Add to Planner\r\n-          </button>\r\n+    <div className={styles.section}>\r\n+      <div\r\n+        className={styles.section_header}\r\n+        onClick={() => setShowItems(!showItems)}\r\n+      >\r\n+        <h2>{title}</h2>\r\n+        <span className={styles.item_count}>({items.length})</span>\r\n+      </div>\r\n+      {showItems && (\r\n+        <div className={styles.section_content}>\r\n+          {items.map((item) => {\r\n+            const data = isVenue ? item.venue : item.service;\r\n+            return (\r\n+              <div key={item.id} className={styles.planner_card}>\r\n+                <img\r\n+                  src={`http://127.0.0.1:8000${data.poster || data.Poster}`}\r\n+                  alt={`${title} Poster`}\r\n+                  className={styles.planner_image}\r\n+                />\r\n+                <div className={styles.planner_details}>\r\n+                  <h3>{data.Name}</h3>\r\n+                  {isVenue ? (\r\n+                    <>\r\n+                      <p>Location: {data.Location}</p>\r\n+                      <p>Booking Price: ${data.Booking_price}</p>\r\n+                      <p>Capacity: {data.Capacity}</p>\r\n+                      <p>Parking: {data.Parking ? \"Yes\" : \"No\"}</p>\r\n+                    </>\r\n+                  ) : (\r\n+                    <>\r\n+                      <p>Type: {data.Type}</p>\r\n+                      <p>Description: {data.Description}</p>\r\n+                      <p>Price: ${data.Price}</p>\r\n+                    </>\r\n+                  )}\r\n+                  <div className={styles.btndiv}>\r\n+                    <button className={styles.btn}>\r\n+                      <i className=\"bi bi-trash3-fill\"></i>\r\n+                    </button>\r\n+                  </div>\r\n+                </div>\r\n+              </div>\r\n+            );\r\n+          })}\r\n         </div>\r\n-      </div>\r\n+      )}\r\n     </div>\r\n   );\r\n-};\r\n+}\r\n \r\n-export default PlannerItemComponent;\r\n+export default PlannerSection;\r\n"
                },
                {
                    "date": 1732008593108,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,13 @@\n-import styles from \"../module_css/PlannerList.module.css\";\r\n+import styles from \"../module_css/PlannerItemCmonent.module.css\";\r\n \r\n-function PlannerSection({ title, items, showItems, setShowItems, isVenue }) {\r\n+function PlannerItemCmonent({\r\n+  title,\r\n+  items,\r\n+  showItems,\r\n+  setShowItems,\r\n+  isVenue,\r\n+}) {\r\n   return (\r\n     <div className={styles.section}>\r\n       <div\r\n         className={styles.section_header}\r\n@@ -51,5 +57,5 @@\n     </div>\r\n   );\r\n }\r\n \r\n-export default PlannerSection;\r\n+export default PlannerItemCmonent;\r\n"
                },
                {
                    "date": 1732008652010,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import styles from \"../module_css/PlannerItemCmonent.module.css\";\r\n \r\n-function PlannerItemCmonent({\r\n+function PlannerItemComponent({\r\n   title,\r\n   items,\r\n   showItems,\r\n   setShowItems,\r\n@@ -57,5 +57,5 @@\n     </div>\r\n   );\r\n }\r\n \r\n-export default PlannerItemCmonent;\r\n+export default PlannerItemComponent;\r\n"
                },
                {
                    "date": 1732008674743,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import styles from \"../module_css/PlannerItemCmonent.module.css\";\r\n+import styles from \"../module_css/PlannerItemComponent.module.css\";\r\n \r\n function PlannerItemComponent({\r\n   title,\r\n   items,\r\n"
                },
                {
                    "date": 1732008708696,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import styles from \"../module_css/PlannerItemComponent.module.css\";\r\n+import styles from \"../module_css/PlannerList.module.css\";\r\n \r\n function PlannerItemComponent({\r\n   title,\r\n   items,\r\n"
                },
                {
                    "date": 1732008823988,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n             const data = isVenue ? item.venue : item.service;\r\n             return (\r\n               <div key={item.id} className={styles.planner_card}>\r\n                 <img\r\n-                  src={`http://127.0.0.1:8000${data.poster || data.Poster}`}\r\n+                  src={`http://127.0.0.1:8000${data.Poster || data.Poster}`}\r\n                   alt={`${title} Poster`}\r\n                   className={styles.planner_image}\r\n                 />\r\n                 <div className={styles.planner_details}>\r\n"
                },
                {
                    "date": 1732008924207,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,13 +21,13 @@\n           {items.map((item) => {\r\n             const data = isVenue ? item.venue : item.service;\r\n             return (\r\n               <div key={item.id} className={styles.planner_card}>\r\n-                <img\r\n+                {/* <img\r\n                   src={`http://127.0.0.1:8000${data.Poster || data.Poster}`}\r\n                   alt={`${title} Poster`}\r\n                   className={styles.planner_image}\r\n-                />\r\n+                /> */}\r\n                 <div className={styles.planner_details}>\r\n                   <h3>{data.Name}</h3>\r\n                   {isVenue ? (\r\n                     <>\r\n"
                },
                {
                    "date": 1732008946730,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,13 +21,13 @@\n           {items.map((item) => {\r\n             const data = isVenue ? item.venue : item.service;\r\n             return (\r\n               <div key={item.id} className={styles.planner_card}>\r\n-                {/* <img\r\n+                <img\r\n                   src={`http://127.0.0.1:8000${data.Poster || data.Poster}`}\r\n                   alt={`${title} Poster`}\r\n                   className={styles.planner_image}\r\n-                /> */}\r\n+                />\r\n                 <div className={styles.planner_details}>\r\n                   <h3>{data.Name}</h3>\r\n                   {isVenue ? (\r\n                     <>\r\n"
                },
                {
                    "date": 1732009006925,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,12 +22,15 @@\n             const data = isVenue ? item.venue : item.service;\r\n             return (\r\n               <div key={item.id} className={styles.planner_card}>\r\n                 <img\r\n-                  src={`http://127.0.0.1:8000${data.Poster || data.Poster}`}\r\n+                  src={`http://127.0.0.1:8000${\r\n+                    PlannerList.data.Poster || data.Poster\r\n+                  }`}\r\n                   alt={`${title} Poster`}\r\n                   className={styles.planner_image}\r\n                 />\r\n+\r\n                 <div className={styles.planner_details}>\r\n                   <h3>{data.Name}</h3>\r\n                   {isVenue ? (\r\n                     <>\r\n"
                },
                {
                    "date": 1732009078386,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,12 +1,8 @@\n import styles from \"../module_css/PlannerList.module.css\";\r\n \r\n function PlannerItemComponent({\r\n-  title,\r\n-  items,\r\n-  showItems,\r\n-  setShowItems,\r\n-  isVenue,\r\n+\r\n }) {\r\n   return (\r\n     <div className={styles.section}>\r\n       <div\r\n@@ -23,28 +19,26 @@\n             return (\r\n               <div key={item.id} className={styles.planner_card}>\r\n                 <img\r\n                   src={`http://127.0.0.1:8000${\r\n-                    PlannerList.data.Poster || data.Poster\r\n                   }`}\r\n-                  alt={`${title} Poster`}\r\n                   className={styles.planner_image}\r\n                 />\r\n \r\n                 <div className={styles.planner_details}>\r\n-                  <h3>{data.Name}</h3>\r\n+                  <h3>{.Name}</h3>\r\n                   {isVenue ? (\r\n                     <>\r\n-                      <p>Location: {data.Location}</p>\r\n-                      <p>Booking Price: ${data.Booking_price}</p>\r\n-                      <p>Capacity: {data.Capacity}</p>\r\n-                      <p>Parking: {data.Parking ? \"Yes\" : \"No\"}</p>\r\n+                      <p>Location: {.Location}</p>\r\n+                      <p>Booking Price: ${.Booking_price}</p>\r\n+                      <p>Capacity: {.Capacity}</p>\r\n+                      <p>Parking: {.Parking ? \"Yes\" : \"No\"}</p>\r\n                     </>\r\n                   ) : (\r\n                     <>\r\n-                      <p>Type: {data.Type}</p>\r\n-                      <p>Description: {data.Description}</p>\r\n-                      <p>Price: ${data.Price}</p>\r\n+                      <p>Type: {.Type}</p>\r\n+                      <p>Description: {.Description}</p>\r\n+                      <p>Price: ${.Price}</p>\r\n                     </>\r\n                   )}\r\n                   <div className={styles.btndiv}>\r\n                     <button className={styles.btn}>\r\n"
                },
                {
                    "date": 1732009319659,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,12 @@\n import styles from \"../module_css/PlannerList.module.css\";\r\n \r\n function PlannerItemComponent({\r\n-\r\n+  title,\r\n+  items,\r\n+  showItems,\r\n+  setShowItems,\r\n+  isVenue,\r\n }) {\r\n   return (\r\n     <div className={styles.section}>\r\n       <div\r\n@@ -14,33 +18,45 @@\n       </div>\r\n       {showItems && (\r\n         <div className={styles.section_content}>\r\n           {items.map((item) => {\r\n-            const data = isVenue ? item.venue : item.service;\r\n+            let data;\r\n+            if (isVenue) {\r\n+              data = item.venue; // If this is a venue, get the venue data\r\n+            } else if (item.service) {\r\n+              data = item.service; // If this is a service, get the service data\r\n+            } else if (item.package) {\r\n+              data = item.package; // If this is a package, get the package data\r\n+            }\r\n+\r\n             return (\r\n               <div key={item.id} className={styles.planner_card}>\r\n                 <img\r\n-                  src={`http://127.0.0.1:8000${\r\n-                  }`}\r\n+                  src={`http://127.0.0.1:8000${data?.poster}`}\r\n                   className={styles.planner_image}\r\n+                  alt={data?.Name}\r\n                 />\r\n-\r\n                 <div className={styles.planner_details}>\r\n-                  <h3>{.Name}</h3>\r\n+                  <h3>{data?.Name}</h3>\r\n                   {isVenue ? (\r\n                     <>\r\n-                      <p>Location: {.Location}</p>\r\n-                      <p>Booking Price: ${.Booking_price}</p>\r\n-                      <p>Capacity: {.Capacity}</p>\r\n-                      <p>Parking: {.Parking ? \"Yes\" : \"No\"}</p>\r\n+                      <p>Location: {data?.Location}</p>\r\n+                      <p>Booking Price: ${data?.Booking_price}</p>\r\n+                      <p>Capacity: {data?.Capacity}</p>\r\n+                      <p>Parking: {data?.Parking ? \"Yes\" : \"No\"}</p>\r\n                     </>\r\n-                  ) : (\r\n+                  ) : item.service ? (\r\n                     <>\r\n-                      <p>Type: {.Type}</p>\r\n-                      <p>Description: {.Description}</p>\r\n-                      <p>Price: ${.Price}</p>\r\n+                      <p>Type: {data?.Type}</p>\r\n+                      <p>Description: {data?.Description}</p>\r\n+                      <p>Price: ${data?.Price}</p>\r\n                     </>\r\n-                  )}\r\n+                  ) : item.package ? (\r\n+                    <>\r\n+                      <p>Description: {data?.Description}</p>\r\n+                      <p>Price: ${data?.Price}</p>\r\n+                    </>\r\n+                  ) : null}\r\n                   <div className={styles.btndiv}>\r\n                     <button className={styles.btn}>\r\n                       <i className=\"bi bi-trash3-fill\"></i>\r\n                     </button>\r\n"
                },
                {
                    "date": 1732009380236,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,17 +18,24 @@\n       </div>\r\n       {showItems && (\r\n         <div className={styles.section_content}>\r\n           {items.map((item) => {\r\n-            let data;\r\n-            if (isVenue) {\r\n-              data = item.venue; // If this is a venue, get the venue data\r\n+            let data = null;\r\n+\r\n+            // Explicitly assign the correct data\r\n+            if (item.venue) {\r\n+              data = item.venue; // This is the venue data\r\n             } else if (item.service) {\r\n-              data = item.service; // If this is a service, get the service data\r\n+              data = item.service; // This is the service data\r\n             } else if (item.package) {\r\n-              data = item.package; // If this is a package, get the package data\r\n+              data = item.package; // This is the package data\r\n             }\r\n \r\n+            // Ensure data is available before attempting to access properties\r\n+            if (!data) {\r\n+              return null; // Skip if no data is available\r\n+            }\r\n+\r\n             return (\r\n               <div key={item.id} className={styles.planner_card}>\r\n                 <img\r\n                   src={`http://127.0.0.1:8000${data?.poster}`}\r\n@@ -36,27 +43,29 @@\n                   alt={data?.Name}\r\n                 />\r\n                 <div className={styles.planner_details}>\r\n                   <h3>{data?.Name}</h3>\r\n-                  {isVenue ? (\r\n+                  {item.venue && (\r\n                     <>\r\n                       <p>Location: {data?.Location}</p>\r\n                       <p>Booking Price: ${data?.Booking_price}</p>\r\n                       <p>Capacity: {data?.Capacity}</p>\r\n                       <p>Parking: {data?.Parking ? \"Yes\" : \"No\"}</p>\r\n                     </>\r\n-                  ) : item.service ? (\r\n+                  )}\r\n+                  {item.service && (\r\n                     <>\r\n                       <p>Type: {data?.Type}</p>\r\n                       <p>Description: {data?.Description}</p>\r\n                       <p>Price: ${data?.Price}</p>\r\n                     </>\r\n-                  ) : item.package ? (\r\n+                  )}\r\n+                  {item.package && (\r\n                     <>\r\n                       <p>Description: {data?.Description}</p>\r\n                       <p>Price: ${data?.Price}</p>\r\n                     </>\r\n-                  ) : null}\r\n+                  )}\r\n                   <div className={styles.btndiv}>\r\n                     <button className={styles.btn}>\r\n                       <i className=\"bi bi-trash3-fill\"></i>\r\n                     </button>\r\n"
                },
                {
                    "date": 1732009560792,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,8 +5,9 @@\n   items,\r\n   showItems,\r\n   setShowItems,\r\n   isVenue,\r\n+  isPackage, // Add a flag for Package data\r\n }) {\r\n   return (\r\n     <div className={styles.section}>\r\n       <div\r\n@@ -18,52 +19,46 @@\n       </div>\r\n       {showItems && (\r\n         <div className={styles.section_content}>\r\n           {items.map((item) => {\r\n-            let data = null;\r\n-\r\n-            // Explicitly assign the correct data\r\n-            if (item.venue) {\r\n-              data = item.venue; // This is the venue data\r\n-            } else if (item.service) {\r\n-              data = item.service; // This is the service data\r\n-            } else if (item.package) {\r\n-              data = item.package; // This is the package data\r\n-            }\r\n-\r\n-            // Ensure data is available before attempting to access properties\r\n-            if (!data) {\r\n-              return null; // Skip if no data is available\r\n-            }\r\n-\r\n+            // Determine if the item is related to a venue, service, or package\r\n+            const data = isPackage\r\n+              ? item.package\r\n+              : isVenue\r\n+              ? item.venue\r\n+              : item.service;\r\n             return (\r\n               <div key={item.id} className={styles.planner_card}>\r\n                 <img\r\n-                  src={`http://127.0.0.1:8000${data?.poster}`}\r\n+                  src={`http://127.0.0.1:8000${\r\n+                    isPackage\r\n+                      ? item.package.poster\r\n+                      : isVenue\r\n+                      ? item.venue.Poster\r\n+                      : item.service.poster\r\n+                  }`}\r\n                   className={styles.planner_image}\r\n-                  alt={data?.Name}\r\n+                  alt={data.Name}\r\n                 />\r\n                 <div className={styles.planner_details}>\r\n-                  <h3>{data?.Name}</h3>\r\n-                  {item.venue && (\r\n+                  <h3>{data.Name}</h3>\r\n+                  {isPackage ? (\r\n                     <>\r\n-                      <p>Location: {data?.Location}</p>\r\n-                      <p>Booking Price: ${data?.Booking_price}</p>\r\n-                      <p>Capacity: {data?.Capacity}</p>\r\n-                      <p>Parking: {data?.Parking ? \"Yes\" : \"No\"}</p>\r\n+                      <p>Description: {data.Description}</p>\r\n+                      <p>Price: ${data.Price}</p>\r\n                     </>\r\n-                  )}\r\n-                  {item.service && (\r\n+                  ) : isVenue ? (\r\n                     <>\r\n-                      <p>Type: {data?.Type}</p>\r\n-                      <p>Description: {data?.Description}</p>\r\n-                      <p>Price: ${data?.Price}</p>\r\n+                      <p>Location: {data.Location}</p>\r\n+                      <p>Booking Price: ${data.Booking_price}</p>\r\n+                      <p>Capacity: {data.Capacity}</p>\r\n+                      <p>Parking: {data.Parking ? \"Yes\" : \"No\"}</p>\r\n                     </>\r\n-                  )}\r\n-                  {item.package && (\r\n+                  ) : (\r\n                     <>\r\n-                      <p>Description: {data?.Description}</p>\r\n-                      <p>Price: ${data?.Price}</p>\r\n+                      <p>Type: {data.Type}</p>\r\n+                      <p>Description: {data.Description}</p>\r\n+                      <p>Price: ${data.Price}</p>\r\n                     </>\r\n                   )}\r\n                   <div className={styles.btndiv}>\r\n                     <button className={styles.btn}>\r\n"
                },
                {
                    "date": 1732009583272,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n               ? item.venue\r\n               : item.service;\r\n             return (\r\n               <div key={item.id} className={styles.planner_card}>\r\n-                <img\r\n+                {/* <img\r\n                   src={`http://127.0.0.1:8000${\r\n                     isPackage\r\n                       ? item.package.poster\r\n                       : isVenue\r\n@@ -37,9 +37,9 @@\n                       : item.service.poster\r\n                   }`}\r\n                   className={styles.planner_image}\r\n                   alt={data.Name}\r\n-                />\r\n+                /> */}\r\n                 <div className={styles.planner_details}>\r\n                   <h3>{data.Name}</h3>\r\n                   {isPackage ? (\r\n                     <>\r\n"
                }
            ],
            "date": 1731945323843,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport PlannerItemComponent from \"./PlannerItemComponent\"; // Import your PlannerItem component\r\nimport styles from \"../module_css/PlannerList.module.css\";\r\n\r\nexport default function PlannerList() {\r\n  const [planners, setPlanners] = useState({\r\n    venues: [],\r\n    services: [],\r\n    packages: [],\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [showVenues, setShowVenues] = useState(false);\r\n  const [showServices, setShowServices] = useState(false);\r\n  const [showPackages, setShowPackages] = useState(false);\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n\r\n  // Effect hook to determine if the user is authenticated and load data\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"access_token\");\r\n\r\n    if (token) {\r\n      setIsAuthenticated(true);\r\n      fetchPlannerDataFromBackend(token); // Fetch from backend if user is logged in\r\n    } else {\r\n      loadPlannerDataFromLocalStorage(); // Use localStorage if user is not logged in\r\n    }\r\n  }, []);\r\n\r\n  // Fetch planner data from backend if the user is authenticated\r\n  const fetchPlannerDataFromBackend = (token) => {\r\n    setLoading(true);\r\n    axios\r\n      .get(\"http://127.0.0.1:8000/api/planner-list/\", {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n        withCredentials: true,\r\n      })\r\n      .then((response) => {\r\n        setPlanners({\r\n          venues: response.data.venues,\r\n          services: response.data.services,\r\n          packages: response.data.packages,\r\n        });\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        setError(\"Error fetching planner data\");\r\n        console.error(error);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  // Load planner data from localStorage if the user is not authenticated\r\n  const loadPlannerDataFromLocalStorage = () => {\r\n    const storedPlanners = JSON.parse(localStorage.getItem(\"plannerList\")) || {\r\n      venues: [],\r\n      services: [],\r\n      packages: [],\r\n    };\r\n    setPlanners(storedPlanners);\r\n  };\r\n\r\n  const addToPlanner = (item, type) => {\r\n    let updatedPlanners = { ...planners };\r\n\r\n    // Dynamically add items based on the type\r\n    if (type === \"venues\") {\r\n      updatedPlanners.venues.push(item);\r\n    } else if (type === \"services\") {\r\n      updatedPlanners.services.push(item);\r\n    } else if (type === \"packages\") {\r\n      updatedPlanners.packages.push(item);\r\n    }\r\n\r\n    setPlanners(updatedPlanners);\r\n    localStorage.setItem(\"plannerList\", JSON.stringify(updatedPlanners));\r\n\r\n    if (isAuthenticated) {\r\n      const token = localStorage.getItem(\"access_token\");\r\n\r\n      // Send only relevant ID based on type\r\n      axios.post(\r\n        \"http://127.0.0.1:8000/api/planner-list/\",\r\n        {\r\n          venue: type === \"venues\" ? item.id : null,\r\n          service: type === \"services\" ? item.id : null,\r\n          package: type === \"packages\" ? item.id : null,\r\n        },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n    }\r\n  };\r\n\r\n  const removeFromPlanner = (itemId, type) => {\r\n    const updatedPlanners = { ...planners };\r\n    updatedPlanners[type] = updatedPlanners[type].filter(\r\n      (item) => item.id !== itemId\r\n    );\r\n\r\n    setPlanners(updatedPlanners);\r\n    localStorage.setItem(\"plannerList\", JSON.stringify(updatedPlanners));\r\n\r\n    if (isAuthenticated) {\r\n      const token = localStorage.getItem(\"access_token\");\r\n      axios.delete(`http://127.0.0.1:8000/api/planner-list/${itemId}/`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n    }\r\n  };\r\n\r\n  const { venues, services, packages } = planners;\r\n  const totalItems = venues.length + services.length + packages.length;\r\n\r\n  return (\r\n    <div className={styles.planner_list_container}>\r\n      <h1>Planner List</h1>\r\n      <p>Total Items: {totalItems}</p>\r\n      {error && <p className={styles.errormessage}>{error}</p>}\r\n      {loading ? (\r\n        <p>Loading...</p>\r\n      ) : (\r\n        <>\r\n          {/* Venue Section */}\r\n          <div className={styles.section}>\r\n            <div\r\n              className={styles.section_header}\r\n              onClick={() => setShowVenues(!showVenues)}\r\n            >\r\n              <h2>Venues</h2>\r\n              <span className={styles.item_count}>({venues.length})</span>\r\n            </div>\r\n            {showVenues && (\r\n              <div className={styles.section_content}>\r\n                {venues.map((venueItem) => (\r\n                  <PlannerItemComponent\r\n                    key={venueItem.id}\r\n                    item={venueItem}\r\n                    type=\"venues\"\r\n                    onAdd={addToPlanner}\r\n                    onRemove={removeFromPlanner}\r\n                  />\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Service Section */}\r\n          <div className={styles.section}>\r\n            <div\r\n              className={styles.section_header}\r\n              onClick={() => setShowServices(!showServices)}\r\n            >\r\n              <h2>Services</h2>\r\n              <span className={styles.item_count}>({services.length})</span>\r\n            </div>\r\n            {showServices && (\r\n              <div className={styles.section_content}>\r\n                {services.map((serviceItem) => (\r\n                  <PlannerItemComponent\r\n                    key={serviceItem.id}\r\n                    item={serviceItem}\r\n                    type=\"services\"\r\n                    onAdd={addToPlanner}\r\n                    onRemove={removeFromPlanner}\r\n                  />\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Package Section */}\r\n          <div className={styles.section}>\r\n            <div\r\n              className={styles.section_header}\r\n              onClick={() => setShowPackages(!showPackages)}\r\n            >\r\n              <h2>Packages</h2>\r\n              <span className={styles.item_count}>({packages.length})</span>\r\n            </div>\r\n            {showPackages && (\r\n              <div className={styles.section_content}>\r\n                {packages.map((packageItem) => (\r\n                  <PlannerItemComponent\r\n                    key={packageItem.id}\r\n                    item={packageItem}\r\n                    type=\"packages\"\r\n                    onAdd={addToPlanner}\r\n                    onRemove={removeFromPlanner}\r\n                  />\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}