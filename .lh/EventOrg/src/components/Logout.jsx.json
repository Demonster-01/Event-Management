{
    "sourceFile": "EventOrg/src/components/Logout.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1731931082804,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1731935774701,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,6 @@\n import { useContext } from \"react\";\r\n import { useHistory } from \"react-router-dom\";\r\n-import { UserContext } from \"./UserContext\"; // Assuming you have a context to manage user state\r\n \r\n const LogoutButton = () => {\r\n   const { setUser } = useContext(UserContext); // Context to store user data\r\n   const history = useHistory();\r\n"
                },
                {
                    "date": 1731935799878,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n import { useContext } from \"react\";\r\n import { useHistory } from \"react-router-dom\";\r\n+import { UserContext } from \"./UserContext\"; // Assuming you have a context to manage user state\r\n \r\n const LogoutButton = () => {\r\n   const { setUser } = useContext(UserContext); // Context to store user data\r\n   const history = useHistory();\r\n"
                },
                {
                    "date": 1731935830174,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import { useContext } from \"react\";\r\n import { useHistory } from \"react-router-dom\";\r\n-import { UserContext } from \"./UserContext\"; // Assuming you have a context to manage user state\r\n+// import { UserContext } from \"./UserContext\"; // Assuming you have a context to manage user state\r\n \r\n const LogoutButton = () => {\r\n   const { setUser } = useContext(UserContext); // Context to store user data\r\n   const history = useHistory();\r\n"
                },
                {
                    "date": 1731935839436,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,43 +0,0 @@\n-import { useContext } from \"react\";\r\n-import { useHistory } from \"react-router-dom\";\r\n-// import { UserContext } from \"./UserContext\"; // Assuming you have a context to manage user state\r\n-\r\n-const LogoutButton = () => {\r\n-  const { setUser } = useContext(UserContext); // Context to store user data\r\n-  const history = useHistory();\r\n-\r\n-  const handleLogout = async () => {\r\n-    try {\r\n-      const response = await fetch(\r\n-        \"http://127.0.0.1:8000/dj-rest-auth/logout/\",\r\n-        {\r\n-          method: \"POST\",\r\n-          headers: {\r\n-            \"Content-Type\": \"application/json\",\r\n-            Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`, // Add your access token if needed\r\n-          },\r\n-        }\r\n-      );\r\n-\r\n-      if (response.ok) {\r\n-        // Clear user data from localStorage or context\r\n-        localStorage.removeItem(\"access_token\");\r\n-        setUser(null); // Reset the user context\r\n-\r\n-        // Redirect to the login page or home page\r\n-        history.push(\"/login\");\r\n-      } else {\r\n-        const responseData = await response.json();\r\n-        console.error(\"Logout failed:\", responseData);\r\n-        alert(\"Failed to log out. Please try again.\");\r\n-      }\r\n-    } catch (error) {\r\n-      console.error(\"Error:\", error);\r\n-      alert(\"An error occurred. Please try again.\");\r\n-    }\r\n-  };\r\n-\r\n-  return <button onClick={handleLogout}>Logout</button>;\r\n-};\r\n-\r\n-export default LogoutButton;\r\n\\ No newline at end of file\n"
                }
            ],
            "date": 1731931082804,
            "name": "Commit-0",
            "content": "import { useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"./UserContext\"; // Assuming you have a context to manage user state\r\n\r\nconst LogoutButton = () => {\r\n  const { setUser } = useContext(UserContext); // Context to store user data\r\n  const history = useHistory();\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      const response = await fetch(\r\n        \"http://127.0.0.1:8000/dj-rest-auth/logout/\",\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`, // Add your access token if needed\r\n          },\r\n        }\r\n      );\r\n\r\n      if (response.ok) {\r\n        // Clear user data from localStorage or context\r\n        localStorage.removeItem(\"access_token\");\r\n        setUser(null); // Reset the user context\r\n\r\n        // Redirect to the login page or home page\r\n        history.push(\"/login\");\r\n      } else {\r\n        const responseData = await response.json();\r\n        console.error(\"Logout failed:\", responseData);\r\n        alert(\"Failed to log out. Please try again.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n      alert(\"An error occurred. Please try again.\");\r\n    }\r\n  };\r\n\r\n  return <button onClick={handleLogout}>Logout</button>;\r\n};\r\n\r\nexport default LogoutButton;\r\n"
        }
    ]
}