{
    "sourceFile": "EventAPI/EventAPI/settings.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 6,
            "patches": [
                {
                    "date": 1731926893715,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1731926930397,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,9 +75,11 @@\n # DJ Rest Auth settings\r\n REST_AUTH_SERIALIZERS = {\r\n     'LOGIN_SERIALIZER': 'dj_rest_auth.serializers.LoginSerializer',\r\n }\r\n-\r\n+AUTHENTICATION_CLASSES = [\r\n+    'rest_framework.authentication.JWTAuthentication',  # Or TokenAuthentication if using tokens\r\n+]\r\n SESSION_ENGINE = 'django.contrib.sessions.backends.db'  # Default session engine\r\n SESSION_COOKIE_AGE = 3600 * 24 * 30  # 30 days\r\n SESSION_EXPIRE_AT_BROWSER_CLOSE = False\r\n \r\n"
                },
                {
                    "date": 1731927085576,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,8 +82,15 @@\n SESSION_ENGINE = 'django.contrib.sessions.backends.db'  # Default session engine\r\n SESSION_COOKIE_AGE = 3600 * 24 * 30  # 30 days\r\n SESSION_EXPIRE_AT_BROWSER_CLOSE = False\r\n \r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n MIDDLEWARE = [\r\n     \"django.middleware.security.SecurityMiddleware\",\r\n     \"django.contrib.sessions.middleware.SessionMiddleware\",\r\n     'corsheaders.middleware.CorsMiddleware',\r\n"
                },
                {
                    "date": 1731928806751,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,9 +56,8 @@\n     'DEFAULT_PERMISSION_CLASSES': [\r\n     'rest_framework.permissions.AllowAny',\r\n     ],\r\n     'DEFAULT_AUTHENTICATION_CLASSES': [\r\n-        'rest_framework.authentication.SessionAuthentication',\r\n         'rest_framework.authentication.TokenAuthentication', # new\r\n     ],\r\n     }\r\n # Configure dj_rest_auth to use JWT\r\n"
                },
                {
                    "date": 1731930464642,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,8 +56,9 @@\n     'DEFAULT_PERMISSION_CLASSES': [\r\n     'rest_framework.permissions.AllowAny',\r\n     ],\r\n     'DEFAULT_AUTHENTICATION_CLASSES': [\r\n+        'rest_framework.authentication.SessionAuthentication',\r\n         'rest_framework.authentication.TokenAuthentication', # new\r\n     ],\r\n     }\r\n # Configure dj_rest_auth to use JWT\r\n"
                },
                {
                    "date": 1731930764993,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -57,9 +57,9 @@\n     'rest_framework.permissions.AllowAny',\r\n     ],\r\n     'DEFAULT_AUTHENTICATION_CLASSES': [\r\n         'rest_framework.authentication.SessionAuthentication',\r\n-        'rest_framework.authentication.TokenAuthentication', # new\r\n+        'rest_framework_simplejwt.authentication.JWTAuthentication', \r\n     ],\r\n     }\r\n # Configure dj_rest_auth to use JWT\r\n REST_USE_JWT = True  # Enable JWT\r\n"
                },
                {
                    "date": 1731930778868,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,9 +56,8 @@\n     'DEFAULT_PERMISSION_CLASSES': [\r\n     'rest_framework.permissions.AllowAny',\r\n     ],\r\n     'DEFAULT_AUTHENTICATION_CLASSES': [\r\n-        'rest_framework.authentication.SessionAuthentication',\r\n         'rest_framework_simplejwt.authentication.JWTAuthentication', \r\n     ],\r\n     }\r\n # Configure dj_rest_auth to use JWT\r\n@@ -75,11 +74,9 @@\n # DJ Rest Auth settings\r\n REST_AUTH_SERIALIZERS = {\r\n     'LOGIN_SERIALIZER': 'dj_rest_auth.serializers.LoginSerializer',\r\n }\r\n-AUTHENTICATION_CLASSES = [\r\n-    'rest_framework.authentication.JWTAuthentication',  # Or TokenAuthentication if using tokens\r\n-]\r\n+\r\n SESSION_ENGINE = 'django.contrib.sessions.backends.db'  # Default session engine\r\n SESSION_COOKIE_AGE = 3600 * 24 * 30  # 30 days\r\n SESSION_EXPIRE_AT_BROWSER_CLOSE = False\r\n \r\n"
                }
            ],
            "date": 1731926893715,
            "name": "Commit-0",
            "content": "\"\"\"\r\nDjango settings for EventAPI project.\r\n\r\nGenerated by 'django-admin startproject' using Django 5.1.3.\r\n\r\nFor more information on this file, see\r\nhttps://docs.djangoproject.com/en/5.1/topics/settings/\r\n\r\nFor the full list of settings and their values, see\r\nhttps://docs.djangoproject.com/en/5.1/ref/settings/\r\n\"\"\"\r\n\r\nfrom pathlib import Path\r\n\r\n# Build paths inside the project like this: BASE_DIR / 'subdir'.\r\nBASE_DIR = Path(__file__).resolve().parent.parent\r\n\r\n\r\n# Quick-start development settings - unsuitable for production\r\n# See https://docs.djangoproject.com/en/5.1/howto/deployment/checklist/\r\n\r\n# SECURITY WARNING: keep the secret key used in production secret!\r\nSECRET_KEY = \"django-insecure-$bww=kp$&1xu*++^75bxogwp5o%x@9is0#6m4%)$v4y=+!+xdp\"\r\n\r\n# SECURITY WARNING: don't run with debug turned on in production!\r\nDEBUG = True\r\n\r\nALLOWED_HOSTS = []\r\n\r\n\r\n# Application definition\r\n\r\nINSTALLED_APPS = [\r\n    \"django.contrib.admin\",\r\n    \"django.contrib.auth\",\r\n    \"django.contrib.contenttypes\",\r\n    \"django.contrib.sessions\",\r\n    \"django.contrib.messages\",\r\n    \"django.contrib.staticfiles\",\r\n    \"django.contrib.sites\",  # Required for django-allauth\r\n\r\n    \"rest_framework\",  # Django REST Framework\r\n    'rest_framework_simplejwt',\r\n    \"rest_framework.authtoken\",  # Token-based authentication\r\n    \"dj_rest_auth\",  # Main package\r\n    \"dj_rest_auth.registration\",  # Registration support\r\n\r\n    \"allauth\",  # django-allauth base\r\n    \"allauth.account\",  # Account management\r\n    \"allauth.socialaccount\",  # (Optional) Social authentication\r\n    \r\n    \"api.apps.ApiConfig\",\r\n]\r\n\r\nREST_FRAMEWORK = {\r\n    'DEFAULT_PERMISSION_CLASSES': [\r\n    'rest_framework.permissions.AllowAny',\r\n    ],\r\n    'DEFAULT_AUTHENTICATION_CLASSES': [\r\n        'rest_framework.authentication.SessionAuthentication',\r\n        'rest_framework.authentication.TokenAuthentication', # new\r\n    ],\r\n    }\r\n# Configure dj_rest_auth to use JWT\r\nREST_USE_JWT = True  # Enable JWT\r\nfrom datetime import timedelta\r\n# JWT settings\r\nSIMPLE_JWT = {\r\n    'ACCESS_TOKEN_LIFETIME': timedelta(minutes=500),  # Adjust the access token lifetime\r\n    'REFRESH_TOKEN_LIFETIME': timedelta(days=11),\r\n    'ROTATE_REFRESH_TOKENS': False,\r\n    'BLACKLIST_AFTER_ROTATION': True,\r\n    'UPDATE_LAST_LOGIN': False,\r\n}\r\n# DJ Rest Auth settings\r\nREST_AUTH_SERIALIZERS = {\r\n    'LOGIN_SERIALIZER': 'dj_rest_auth.serializers.LoginSerializer',\r\n}\r\n\r\nSESSION_ENGINE = 'django.contrib.sessions.backends.db'  # Default session engine\r\nSESSION_COOKIE_AGE = 3600 * 24 * 30  # 30 days\r\nSESSION_EXPIRE_AT_BROWSER_CLOSE = False\r\n\r\nMIDDLEWARE = [\r\n    \"django.middleware.security.SecurityMiddleware\",\r\n    \"django.contrib.sessions.middleware.SessionMiddleware\",\r\n    'corsheaders.middleware.CorsMiddleware',\r\n    \"django.middleware.common.CommonMiddleware\",\r\n    \"django.middleware.csrf.CsrfViewMiddleware\",\r\n    \"django.contrib.auth.middleware.AuthenticationMiddleware\",\r\n    \"django.contrib.messages.middleware.MessageMiddleware\",\r\n    \"django.middleware.clickjacking.XFrameOptionsMiddleware\",\r\n    \"allauth.account.middleware.AccountMiddleware\",  # Required for allauth\r\n]\r\n\r\nCORS_ALLOWED_ORIGINS = [\r\n    \"http://localhost:5173\",  # React app\r\n    \"http://localhost:3000\",  # Another common React app port\r\n]\r\n\r\nCORS_ALLOW_ALL_ORIGINS = True\r\n\r\nROOT_URLCONF = \"EventAPI.urls\"\r\n\r\nTEMPLATES = [\r\n    {\r\n        \"BACKEND\": \"django.template.backends.django.DjangoTemplates\",\r\n        \"DIRS\": [],\r\n        \"APP_DIRS\": True,\r\n        \"OPTIONS\": {\r\n            \"context_processors\": [\r\n                \"django.template.context_processors.debug\",\r\n                \"django.template.context_processors.request\",\r\n                \"django.contrib.auth.context_processors.auth\",\r\n                \"django.contrib.messages.context_processors.messages\",\r\n            ],\r\n        },\r\n    },\r\n]\r\n\r\nWSGI_APPLICATION = \"EventAPI.wsgi.application\"\r\n\r\n\r\n# Database\r\n# https://docs.djangoproject.com/en/5.1/ref/settings/#databases\r\n\r\nDATABASES = {\r\n    \"default\": {\r\n        \"ENGINE\": \"django.db.backends.sqlite3\",\r\n        \"NAME\": BASE_DIR / \"db.sqlite3\",\r\n    }\r\n}\r\n\r\n\r\n# Password validation\r\n# https://docs.djangoproject.com/en/5.1/ref/settings/#auth-password-validators\r\n\r\nAUTH_PASSWORD_VALIDATORS = [\r\n    {\r\n        \"NAME\": \"django.contrib.auth.password_validation.UserAttributeSimilarityValidator\",\r\n    },\r\n    {\r\n        \"NAME\": \"django.contrib.auth.password_validation.MinimumLengthValidator\",\r\n    },\r\n    {\r\n        \"NAME\": \"django.contrib.auth.password_validation.CommonPasswordValidator\",\r\n    },\r\n    {\r\n        \"NAME\": \"django.contrib.auth.password_validation.NumericPasswordValidator\",\r\n    },\r\n]\r\n\r\n\r\n# Internationalization\r\n# https://docs.djangoproject.com/en/5.1/topics/i18n/\r\n\r\nLANGUAGE_CODE = \"en-us\"\r\n\r\nTIME_ZONE = \"UTC\"\r\n\r\nUSE_I18N = True\r\n\r\nUSE_TZ = True\r\n\r\n\r\n# Static files (CSS, JavaScript, Images)\r\n# https://docs.djangoproject.com/en/5.1/howto/static-files/\r\n\r\nSTATIC_URL = \"static/\"\r\n\r\n# Default primary key field type\r\n# https://docs.djangoproject.com/en/5.1/ref/settings/#default-auto-field\r\n\r\nDEFAULT_AUTO_FIELD = \"django.db.models.BigAutoField\"\r\nimport os\r\n\r\nMEDIA_URL = '/media/'\r\nMEDIA_ROOT = os.path.join(BASE_DIR, 'media') \r\n\r\nEMAIL_BACKEND = 'django.core.mail.backends.console.EmailBackend' # new\r\nSITE_ID = 1 # new"
        }
    ]
}